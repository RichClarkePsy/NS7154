<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 2 Welcome | Week 3 - Working with data files</title>
<meta name="author" content="Dr Richard Clarke">
<meta name="description" content="Welcome to the R Lab Book for NS7514 Health in Context: From Cell to Society Over the course of the semester this book will guide you through the use of R and RStudio to organise, visulise, and...">
<meta name="generator" content="bookdown 0.31 with bs4_book()">
<meta property="og:title" content="Chapter 2 Welcome | Week 3 - Working with data files">
<meta property="og:type" content="book">
<meta property="og:description" content="Welcome to the R Lab Book for NS7514 Health in Context: From Cell to Society Over the course of the semester this book will guide you through the use of R and RStudio to organise, visulise, and...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 2 Welcome | Week 3 - Working with data files">
<meta name="twitter:description" content="Welcome to the R Lab Book for NS7514 Health in Context: From Cell to Society Over the course of the semester this book will guide you through the use of R and RStudio to organise, visulise, and...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.0/transition.js"></script><script src="libs/bs3compat-0.4.0/tabs.js"></script><script src="libs/bs3compat-0.4.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="www/webex.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Week 3 - Working with data files</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Index</a></li>
<li><a class="active" href="welcome.html"><span class="header-section-number">2</span> Welcome</a></li>
<li><a class="" href="getting-started.html"><span class="header-section-number">3</span> Getting started</a></li>
<li><a class="" href="writing-and-running-your-first-code.html"><span class="header-section-number">4</span> Writing and running your first code</a></li>
<li><a class="" href="week-2---basic-visualisation.html"><span class="header-section-number">5</span> Week 2 - Basic visualisation</a></li>
<li><a class="" href="week-3---working-with-data-files.html"><span class="header-section-number">6</span> Week 3 - Working with data files</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="welcome" class="section level1" number="2">
<h1>
<span class="header-section-number">2</span> Welcome<a class="anchor" aria-label="anchor" href="#welcome"><i class="fas fa-link"></i></a>
</h1>
<p>Welcome to the R Lab Book for <strong>NS7514 Health in Context: From Cell to Society</strong></p>
<p>Over the course of the semester this book will guide you through the use of R and RStudio to <em>organise</em>, <em>visulise</em>, and <em>analyse</em> health data related to the lecture content from each week of this module. This book will take you from the absolute basics of R, to the point where you are able to make stunning visulisations, expert analysis and, most importantly, conduct the analysis for your assignment.</p>
<div id="why-learn-r-why-not-just-use-spss-or-stata" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Why learn R? Why not just use SPSS or STATA?<a class="anchor" aria-label="anchor" href="#why-learn-r-why-not-just-use-spss-or-stata"><i class="fas fa-link"></i></a>
</h2>
<p>If you've completed an undergraduate psychology degree there's a good chance that you've been taught statistical analysis using SPSS or STATA. These programs are great, and are capable of conducting some amazing analysis, but data in the real world is often a lot messier than the data you saw during your undergraduate degree. I want you to leave this MSc with the skills needed to deal with that messiness, wherever you may end up, and for me R is an excellent place to hone those skills.</p>
<p>Need more convincing? Here are the usual go-to reasons for learning R as a psychology student.</p>
<p><strong>1. R is open access and therefore free</strong></p>
<p>SPSS and STATA are ludicrously expensive. A personal licence, at my last check, cost a little over $1000 per year. This is fine for a university to cover (for now), but move away from academia to perhaps a charity or a non-government organisation and its a cost that many are not willing to pay for.</p>
<div class="inline-figure"><img src="Images/SPSS%20fee.png" width="100%" style="display: block; margin: auto;"></div>
<p>As such, you may find that there are many jobs out there that you are perfectly capable of doing, from a knowledge point of view, but they just don't have access to the tools you've been trained on.</p>
<p>This was the position that I was in after I finished my last post-doc. Doors were closed to me - really interesting door where I could have done a lot of good - due to my skill base being too narrow to be applicable to them. I don't want that to be the case for you. By the end of this course you'll be able to do all the analysis you can already do on the paid software, in this free and accessible language that is quickly becoming a highly desirable skill for a graduate to have.</p>
<p><strong>2. Data wrangling</strong></p>
<p>Say you want to conduct some longitudinal research. You find participants, you send them surveys each month, you also perhaps visit them in person and take some bio-physiological measurements (blood pressure, BMI etc). All of this data is recorded and saved across multiple different excel files. Some participants drop out or fail to respond for some of the time points. How do you match participants for your final dataset and combine files into a format where you're able to run your analysis?</p>
<p>This is a problem that we very rarely cover at undergraduate, but it's very common and essential part of the research process, especially with health data collected by a third party (i.e. a charity or even The NHS). In the days before I learnt R this kind of problem led me to copy and pasting chunks of data in excel, entering data into SPSS by hand, or any number of long laborious processes that were prone to silly mistakes during lapses of concentration or poor work processes.</p>
<div align="center">
<em>There has to be an easier way!</em>
</div>
<p><br></p>
<div align="center">
<em>Good news, there is, and it's R!</em>
</div>
<p><br></p>
<p>The skill to cope with the data problem I've described above, and many others, is know as <strong>data wrangling</strong> and it's a skill that is best deployed with code. By the end of this module, you should be able to have all your raw data for a project together in a folder, open a script you have written, click run and end up with a perfect dataset ready for your analysis every time.</p>
<div class="inline-figure"><img src="Images/data%20wrangling.png" width="100%" style="display: block; margin: auto;"></div>
<p><strong>3. Data visulisations</strong></p>
<p>I never truly understand my data until I can see it. Relationships between variables, differences between groups, location data, all can be visulised quickly and effectively using R. Here are a few of may favorites that you will be creating across the course of the semester:</p>
<p><strong>add in visulisations here</strong></p>
<p>And the great thing about creating these with code is that next time you come across similar data in the same format you can simply copy your previous code and adapt it to your needs. No more clicking around in excel trying to find the same colours and arrangement from last time, no more ugly SPSS outputs, just publication ready figures that communicate your amazing finds in a way the words just can't capture.</p>
<p><strong>4. Reproducability</strong></p>
<p>If you've been in psychology for a while you may have heard that we are in a <em>"Replication Crisis"</em>. Findings that we're previously held up as reliable understandings of the human condition are crumbling into dust once we apply the rigor of the scientific method.</p>
<p>A, now infamous, <a href="https://www.science.org/doi/10.1126/science.aac4716">2015 study</a> The Open Science Collaboration followed the methodology of 100 experimental reports, from a single year (2008), that had been published in a range of high-ranking journals. The aim was to see how many of the findings replicated (i.e. when repeated produced the same results). Out of the 100 only 39 were found to successful replicate.</p>
<div class="inline-figure"><img src="Images/Replication%20crisis.png" width="100%" style="display: block; margin: auto;"></div>
<p>This finding proved a <a href="https://en.wikipedia.org/wiki/Timeline_of_psychology">watershed moment in psychology</a> whereby many were questioning the reliability of our work.</p>
<p>One solution suggested is to make the process of our science far more transparent, and this is were R comes in. It by no means solves all the issues with the replication crists but by submitting code along with making our data open access, readers of our work no longer need to "take our word for it" that we've conducted an appropriate analysis and correctly reported our results. They can now check for themselves.</p>
<p>Journal are also starting to take note of such a culture shift and are starting to require the submission of analysis reports. So with any luck this skill will start to align more with you getting published.</p>
<p>We will talk much more about this aspect when we get on to the section on Rmarkdown and reproducability workflows.</p>
<hr>
<hr>
<p>Hopefully I've convinced you of the importance of learning R as a psychology student. If not <a href="https://youtu.be/eArfSK3huFY">here is a link to particularly good talk by Phil McAleer from the University of Glasgow</a> on why they moved their undergraduate degree towards a focus on reproducible research, using R for statistics.</p>
<p>Now on with the learning!</p>

</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script><div class="chapter-nav">
<div class="prev"><a href="index.html"><span class="header-section-number">1</span> Index</a></div>
<div class="next"><a href="getting-started.html"><span class="header-section-number">3</span> Getting started</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#welcome"><span class="header-section-number">2</span> Welcome</a></li>
<li><a class="nav-link" href="#why-learn-r-why-not-just-use-spss-or-stata"><span class="header-section-number">2.1</span> Why learn R? Why not just use SPSS or STATA?</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Week 3 - Working with data files</strong>" was written by Dr Richard Clarke. It was last built on 2023-07-05.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
